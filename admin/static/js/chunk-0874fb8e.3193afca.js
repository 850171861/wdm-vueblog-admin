(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0874fb8e"],{"063a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-table",{attrs:{columns:t.columns,"data-source":t.errorData,scroll:{x:1500,y:450},rowKey:function(t,e){return t._id}},scopedSlots:t._u([{key:"action",fn:function(e,r){return n("a",{},[t.errorData.length?n("a-popconfirm",{attrs:{title:"确定要删除吗？"},on:{confirm:function(){return t.onDelete(r._id)}}},[n("a-button",{attrs:{type:"danger"}},[t._v(" 删除 ")])],1):t._e()],1)}}])},[t._v("> ")])],1)},a=[],i=n("efbe"),o=(n("28fd"),n("a9b6"),n("ed3b")),u=(n("e186"),n("7424")),c=n("b775");function d(){return s.apply(this,arguments)}function s(){return s=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])(u["ERROR_LOG"],c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function f(t){return l.apply(this,arguments)}function l(){return l=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])(u["DELETE_ERRORLOG"],c["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}var p={data:function(){return{errorData:[],columns:[{title:"错误信息",width:250,dataIndex:"message",fixed:"left"},{title:"错误码",dataIndex:"code",width:150},{title:"请求类型",dataIndex:"method",width:200},{title:"请求路径",dataIndex:"path",width:150},{title:"请求参数",dataIndex:"param",width:150},{title:"用户",dataIndex:"username",width:150},{title:"报错日期",dataIndex:"created",width:150},{title:"操作",key:"operation",fixed:"right",width:120,scopedSlots:{customRender:"action"}}]}},mounted:function(){this.getErrorLog()},methods:{getErrorLog:function(){var t=this;d().then((function(e){e.data.code&&(t.errorData=e.data.data)}))},onDelete:function(t){var e=this;f({_id:t}).then((function(n){if(200===n.data.code){var r=Object(i["a"])(e.errorData);e.errorData=r.filter((function(e){return e._id!==t})),e.$message.success("删除成功")}}))}}},h=p,w=(n("6e6e"),n("cba8")),m=Object(w["a"])(h,r,a,!1,null,null,null);e["default"]=m.exports},"6e6e":function(t,e,n){"use strict";n("dd79")},dd79:function(t,e,n){}}]);