(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23b5e573"],{"0254":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-list"},[a("a-list",{attrs:{grid:{gutter:24,lg:3,md:2,sm:1,xs:1},dataSource:t.warehouseData},scopedSlots:t._u([{key:"renderItem",fn:function(e){return a("a-list-item",{},[e.add?[a("a-button",{staticClass:"new-btn",attrs:{type:"dashed"},on:{click:t.handleCreate}},[a("a-icon",{attrs:{type:"plus"}}),t._v("添加 ")],1)]:[a("a-card",{attrs:{hoverable:!0}},[a("a-card-meta",[a("div",{staticStyle:{"margin-bottom":"3px"},attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(e.title)+" ")]),a("div",{staticClass:"meta-content",attrs:{slot:"description"},slot:"description"},[t._v(" "+t._s(e.content)+" ")])]),a("a",{attrs:{slot:"actions"},on:{click:function(a){return t.handleUpdate(e)}},slot:"actions"},[t._v("编辑")]),a("a",{attrs:{slot:"actions"},on:{click:function(a){return t.handleDelelte(e._id)}},slot:"actions"},[t._v("删除")])],1)]],2)}}])}),a("a-drawer",{attrs:{title:"Create a new account",width:440,visible:t.visible,"body-style":{paddingBottom:"80px"}},on:{close:t.onClose}},[a("a-form-item",{attrs:{label:"项目名称"}},[a("a-input",{attrs:{placeholder:"请输入项目名称"},model:{value:t.obj.title,callback:function(e){t.$set(t.obj,"title",e)},expression:"obj.title"}})],1),a("a-form-item",{attrs:{label:"项目地址"}},[a("a-input",{staticStyle:{width:"100%"},attrs:{"addon-before":"http://","addon-after":".com",placeholder:"请输入项目地址"},model:{value:t.obj.url,callback:function(e){t.$set(t.obj,"url",e)},expression:"obj.url"}})],1),a("a-form-item",{attrs:{label:"项目描述"}},[a("a-textarea",{attrs:{rows:10,placeholder:"请输入项目描述"},model:{value:t.obj.content,callback:function(e){t.$set(t.obj,"content",e)},expression:"obj.content"}})],1),a("div",{style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}},[a("a-button",{style:{marginRight:"8px"},on:{click:t.onClose}},[t._v(" 取消 ")]),a("a-button",{attrs:{type:"primary"},on:{click:function(e){"create"===t.dialogStatus?t.createData():t.updateData()}}},[t._v(" 确认 ")])],1)],1)],1)},r=[],i=a("efbe"),s=(a("8d1b"),a("a9b6"),a("c284"),a("28fd"),a("ed3b")),o=(a("e186"),a("7424")),c=a("b775");function u(){return l.apply(this,arguments)}function l(){return l=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])(o["WAREHOUSE_LIST"],c["a"].GET));case 1:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function d(t){return p.apply(this,arguments)}function p(){return p=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])(o["DELETE_WAREHOUSE"],c["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function b(t){return f.apply(this,arguments)}function f(){return f=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])(o["ADD_WAREHOUSE"],c["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function h(t){return m.apply(this,arguments)}function m(){return m=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(c["f"])(o["UPDATE_WAREHOUSE"],c["a"].POST,e));case 1:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}var v={name:"CardList",data:function(){return{warehouseData:[],obj:{title:"",url:"",content:""},visible:!1,dialogStatus:""}},mounted:function(){this.getWarehouse()},methods:{onClose:function(){this.visible=!1},handleCreate:function(){this.dialogStatus="create",this.visible=!0},createData:function(){var t=this;b(this.obj).then((function(e){if(200===e.data.code){var a=e.data.data;t.warehouseData.splice(1,0,a),t.$message.success("添加数据成功")}else t.$message.success("添加数据失败");t.obj.title="",t.obj.url="",t.obj.content=""})),this.visible=!1},handleUpdate:function(t){this.obj=Object.assign({},t),this.dialogStatus="update",this.visible=!0},updateData:function(){var t=this;h(this.obj).then((function(e){200===e.data.code?(t.$message.success("修改数据成功"),t.warehouseData.forEach((function(e){e._id===t.obj._id&&(e.title=t.obj.title,e.content=t.obj.content,e.url=t.obj.url)}))):t.$message.success("修改数据失败"),t.visible=!1}))},getWarehouse:function(){var t=this;u().then((function(e){200===e.data.code&&(e.data.data.unshift({add:!0}),t.warehouseData=e.data.data)}))},handleDelelte:function(t){var e=this;d({_id:t}).then((function(a){if(200===a.data.code){var n=Object(i["a"])(e.warehouseData);e.warehouseData=n.filter((function(e){return e._id!==t})),e.$message.success(a.data.msg)}}))}}},g=v,w=(a("f8ca"),a("cba8")),j=Object(w["a"])(g,n,r,!1,null,"3623d46a",null);e["default"]=j.exports},"9ff4":function(t,e,a){},f8ca:function(t,e,a){"use strict";a("9ff4")}}]);